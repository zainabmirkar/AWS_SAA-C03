# AWS KMS

- AWS key types
    - customer managed
    - aws managed
    - aws owned
 
## Customer Managed keys
- assymetric keys
- can grant iam policies which allows only people we want
- we can have administrative functions over the key such as deleting keys, rotating keys, create aliases, add tags, enable/diable keys

## AWS managed
- automatically generated by aws
- integrate with kms
- keys can be viewed from kms
- easily identifiable like aws/servicename
- users cannot manage keys in any way

### HMAC
- may be used for both data integrity and authenticity of a message
- hmac key never leaves aws without beingencryted first
- GenerateMac and VerifyMac are two operations required to check integrity and authenticity

### Data keys
- generated by kms keys
- kms itself doesn't use data keys to encrypt data
- used outside of kms to encrypt data
- GenerateDataKey operation which will use existing kms key to create it. this will create encryption version of data key and plaintext version
- it is possible to create data key without the plaintext version using ```GenerateDataKeyWithoutPlaintext```
- classed as symmetric because it uses same plaintext and encrypted version of the same plaintext
- [data keys](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#data-keys)

### Data Key Pairs
- [data key pairs](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#data-key-pairs)
  
### key rotation
- changing the key material associated with the key
- aws managed and aws owned keys are managed by aws only


### key policies
- who can access keys
- resource based policies
- different policies can be created for different keys
- json format of permissions

### grants
- Grants are often used for temporary permissions because you can create one, use its permissions, and delete it without changing your key policies or IAM policies.
- allows to delegate a subset of permissions for a user
























